Imported for SLAC National Accelerator Lab ICD.

Revision History:
-----------------
Intial Import: Shantha Condamoor on 20-Sept-2011 

The initial import of the EPICS caPutLog module was obtained from 
Ben Franksen (HZB)'s release caPutLog-3.3 from the following website:

http://www-csr.bessy.de/control/SoftDist/caPutLog/

caPutLog-3.3 is built against EPICS base 3.14.12

---------------------------------------------------------------

Instructions to build and use caPutLog in your ioc application 
(condensed from Ben Franksen'S website above):
---------------------------------------------------------------

To Build:
---------
1.	In your ioc application 'src' directory's Makefile, add caPutLog.dbd 
	to your dbd includes and caPutLog to the libraries to link.
	
To Configure:
-------------
2.	In your IOC startup file add the command:

	caPutLogInit "host[:port]" [config]
		
 	where;
	host (mandatory argument) is the IP address or host name of the log server and 
	port is optional (the default is 7011).
	
	The environment variable EPICS_CA_PUT_LOG_ADDR is used if the first parameter 
	to caPutLogInit is NULL or the empty string.

	The second (optional, default=0) argument should be one of

	#define caPutLogNone        -1  /* no logging (disable) */
	#define caPutLogOnChange    0   /* log only on value change */
	#define caPutLogAll         1   /* log all puts */
	#define caPutLogAllNoFilter 2   /* log all puts no filtering on same PV*/

	Make sure access security is enabled on the IOC by providing a 
	suitable configuration file and load it with a call to asSetFilename(<filename>) 
	before iocInit. Your configuration file should contain a TRAPWRITE rule. 
	
	The following snippet can be used to enable read/write access and 
	write trapping for everyone (i.e. unrestricted access):

	ASG(DEFAULT) {
   		RULE(1,READ)
   	RULE(1,WRITE,TRAPWRITE)
	}
	
	Note that caPutLogInit expects access security to be already running, 
	so must be called after iocInit.

3. Other shell commands are:

	caPutLogReconf config
	
		(a) Change configuration on-line. The argument is the same as in caPutLogInit.
		
	caPutLogShow level

		(b) Show information about a running caPutLog, level is the usual interest level (0, 1, or 2).
		
Log Server:
------------		
For the server you can use the same executable as for the regular IOC log server.
You might want to start another instance with a different port, though.
However, you can also use the same log server instance (so that caput log messages 
and regular IOC log messages go into the same log file).

Log Format:
-----------
The iocLogServer precedes each line with these data:

<host:port of log client> <date and time of log message reception>

After this comes the actual log message, which has this format:

<date> <time> <host> <user> <change>

	where <date> and <time> refer to the time of the caput request, 
	<host> and <user> identify the agent that requested the caput, 
	and <change> is one of

new=<value> old=<value>

or

new=<value> old=<value> min=<value> max=<value>

The latter format means that several puts for the same PV have been received in rapid succession; 
in this case only the original and the final value as well as the minimum and maximum value are logged. 
This filtering can be disabled by specifying the caPutLogAllNoFilter configuration option.




